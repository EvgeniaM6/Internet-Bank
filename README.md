# Internet-Bank

Финальный таск курса, выполняемый командой:
- [Егор](https://github.com/kkolite)
- [Андрей](https://github.com/shama8nchez)
- [Евгения](https://github.com/EvgeniaM6)

В нашем приложении есть несколько категорий пользователей: админ, клиент и гость (аноним). В зависимости от этой самой категории реализуется список доступных операций и возможностей. 

## Операции и возможности

Какие операции можно будет выполнить с помощью нашего приложения:
- Авторизация (регистрация, сброс пароля, двухэтапная авторизация).
- Личный кабинет (изменение данных, удаление аккаунта)
- Админка (блокировка пользователей, управление БД итд)
- Банковские услуги (обмен валют, перевод денег итд).
- Оплата других услуг (связь, подписки итд).
- Биржа акций (покупка/продажа).
- Викторина по финансовой грамотности.
- Статистика по операциям.
- Конструктор карточки.

Возможности приложения:
- Смена дневной/ночной темы.
- Смена языка.

## Стэк

- FE: HTML5, SCSS, TypeScript
- BE: Node.js / Exspress
- Database: Mongo DB

## Баллы

[Краткое описание нашего проекта](https://youtu.be/UrckZzGsMYE)

**ВАЖНО!** Для полноценной проверки необходимо пройти регестрацию, т.к. функционал анонимного пользователя (гостя) ограничен.

Для проверки админки:
 - Свяжитесь с [Егором](https://t.me/litavar), он сделает вас на время проверки админом.
 - Также вы можете [посмотреть видео](https://youtu.be/pFPAU9jLlVE), где мы показываем возможности админки.
 
 Почему мы отградили функциональности админки от пользователя? Админка на то и есть админка, что ее функционал не должен быть доступен простому пользователю.

- [Back-end](#back-end), +60
- [Функциональность](#функциональность), +560 (560/560)
    - [Авторизация](#авторизация), +70
    - [Статистика](#статистика), +30
    - [Акции](#акции), +60
    - [Конструктор-карточки](#конструктор-карточки), +60
    - [Услуги](#услуги), +60
    - [Банковские-услуги](#банковские-услуги), +70
    - [Кабинет-пользователя](#кабинет-пользователя), +70
    - [Админка](#админка), +50
    - [Викторина](#викторина), +30
    - [Общее](#общее), +60

### Back-end

Как говорит ТЗ, *Начисление баллов за бек возможно при следующих условиях*:
- *Написан своими руками (с нуля) и имеет историю коммитов.*
- *Back-end задеплоен и отвечает на запросы POSTman (пример запроса нужно указать в ПР или Readme файле).*
- *Использовать JS стек, например TS/Express/Node.js/http.createServer()/Nest.js/Deno.js/Fastify/KOA.js.*

Все пункты выполнены. Ознакомится с документацией по серверу можно в репозитории сервера.

В нашем проекте BE и FE тесно связаны, почти вся логика вынесена на сторону сервера. Мы решили, что оценка за нее будет отнесена к **Функциональности** приложения (втч и авторизация, рассылка писем, статистика итд). В этом разделе баллы начислем за следующее (по примеру из ТЗ):
- Использован REST API, +10.
- Подключение и работа с БД, +10.
- Используется ORM(mongoose), +10.
- Реализован nodejs и express, +10.
- Использован JWT, пароли хранятся в БД в зашиврованном виде, +10
- Реализована работа с WebSocket, +10.

**Итого: 60 баллов**

### Функциональность

#### Авторизация

Есть два основных сценария пользования приложением: авторизированный пользователь или аноним (гость). При переходе по главной ссылке роутинг сразу отправит вас на страницу авторизации, если у вас нет токена. Если вы ранее авторизировались, то окажетесь на странице о приложении.

- Реализована регистрация, +15
- Реализован сброс пароля, +10
- Реализована авторизация, +15
- Реализована двухэтапная верификация, +10
    - Можно ввести постоянный пин-код, +5
    - Можно использовать единаразовый код, который приходит на почту, +5
- Все поля имеют валидацию на правильность введеных данных, +10
- Есть возможность пользоваться приложением без авторизации, но с ограниченным функционалом, +10

**Итого: 70 баллов**

#### Статистика

В разделе Statistics доступна статистика по операциям, проведенным через банк. Она доступна для всех. Более расширенные данные о банке доступны в админке. Почему статистика есть в общем доступе, а не в админке? Для более удобной проверки обновления данных в ней.

- Реализован вывод общей статистики по операциям, получаемой от сервера (+30), который включает:
    - Название операции
    - Количество ее выполнения
    - Суммарное количество денег, прошедних через операцию

**Итого: 30 баллов**

#### Акции

В разделе Stocks авторизированный пользователь может приобритать или продавать акции. Данный раздел реализован с помощью WebSocket. Данные на странице периодически обновляются. Список акций хранится в базе данных.

- Есть блок с акциями пользователя, +15
    - Информация (имя и количество акций), +5
    - Профит (разница между деньгами, затраченными на покупку акций, и текущей ценой), +5
    - Кнопки для продажи акций, +5
- Есть блок рынка акций, +15
    - Информация (имя и количество акций), +5
    - Цена, +5
    - Кнопки для покупки, +5
- После операции покупки / продажи оба блока обновляются, +10
- Рынок акций периодически обновляется, динамика цен отражается стилем (цвет текста), +10
- Реализована обработка ошибок: недосточно средств, акции не найдены итд, +10

**Итого: 60 баллов**

#### Конструктор карточки

В разделе Card Creator авторизированный пользователь может создать карточку. Отметим, что карточка не связана с оплатой и деньгами. Речь про дизайн. Созданная карточка сохраняется в базе данных, ее можно увидеть в личном кабинете

- Есть вазможность выбрать: имя пользователя, банковскую систему, +10
- Создается уникальный номер карточки, который зависит от выбранной банковской системы, +5
- Настройки дизайна, +25:
    - Цвет текста, +5
    - Цвет фона, +5
    - Свой фон (ссылка на картинку), +5
    - Яркость фона, +5
    - Размытие фона, +5
- После создание карточки ее можно получить как картинку (открывается в новой вкладке), +10
- Карточка сохраняется в кабинете пользователя и доступна там, +10

**Итого: 60 баллов**

#### Услуги

В разделе Services доступен список услуг для оплаты. Он приходит от сервера. Каждая из банковских услуг имеет свои особенности в логике исполнения. Прочие услуги в большем схожи: есть два инпута (деньги и номер аккаунта/телефона). Аноним может платить только с "карточки", у авторизированного пользователя есть выбор. У всех есть возможность получить чек об операции на почту.

- Реализовано отображение списка услуг, полученного от сервера, +10
- Разные сценарии для анонима и авторизированного пользователя: первый может оплатить только "карточкой", второй - "карточка" и со своего счета, +10
- Есть возможность получения чека операции на почту, +10
- Есть поля ввода данных: номер аккаунта, мобильного телефона итд, +10
- Обработка операции идет на сервере, клиент лишь отправляет неоходимые данные. Также на сервере с вероятностью 15% генерируется "поломка банковской системы" при оплате краточкой, +10
- Реализована обработка ошибок: нехватка средств итд., +10

**Итого: 60 баллов**

#### Банковские услуги

- Реализован обмен валют, +30
    - Анонимный, +10
    - Между счетами пользователя, +10
    - Пользователь может видеть актуальные курсы валют на странице, +10
- Реализовано пополнение/снятие денег со счета, +10
- Реализован перевод денег между клиентами, +20
- Разное поведение для авторизированного и анонимного пользователя: последнему доступен лишь анонимный обмен валют, +10

**Итого: 70 баллов**

#### Кабинет пользователя

В разделе Account авторизированный пользователь может получить список последних операций, созданные карточки. Есть возможность изменить данные, удалить аккаунт, управление валютными счетами.

- Реализовано отображение созданных пользователем банковских карточек, +10
- Реализовано отображении истории совершенных операций, +10
- Пользователь может получить на свою почту выписку по операциям, +10
    - По всем операциям, +5
    - По конкретно выбранной операции, +5
- Реализовано управление аккаунтом, +20
    - Смена пароля, +5
    - Смена ника, +5
    - Смена почты, +5
    - Удаление аккаунта, +5
- Реализовано управление счетами, +20
    - Создание нового счета, +5
    - Удаление счета, +5
    - Выводится список всех счетов, +10

**Итого: 70 баллов**

#### Админка

Для проверки админки можете [посмотреть видео](https://youtu.be/pFPAU9jLlVE) либо запросить доступ к ней у [Егора](https://t.me/litavar).

В админке происходит управление банком. Есть доступ к счету банка: мы видим его название и количество денег на нем. Откуда деньги? Банк получает их за комиссию либо торговлю акциями. 

В админке мы можем получить список всех клиентов банка. Мы можем создавать, блокировать или удалять клиента. 

- Реализован вывод информации о банке, +10
    - Имя счета, +5
    - Количество денег, +5
- Реализован вывод списка клиентов банка, +10
- Реализовано управление клиентами, +30
    - Создание нового пользователя, +10
    - Блокировка пользователя, +10
    - Удаление пользователя, +10

**Итого: 50 баллов**

#### Викторина

- От сервера приходит пять рандомных вопросов, +10
- После ответа на каждый вопрос происходит проверка ответа на сервере, правильный ответ выделяется стилем, отображается дополнительный комментарий по вопросу +10
- Ведется подсчет очков, +10

**Итого: 30 баллов**

#### Общее

- Роутинг, +15
- Смена языка, +15
- Смена темы дня и ночи, +15
- Адаптивный дизайн, +15

**Итого: 60 баллов**
